{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/shai/9april2021/components/stage-container.tsx\";\n\n/**\n * Copyright 2020 Vercel Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport useSWR from 'swr';\nimport cn from 'classnames';\nimport useLoginStatus from '@lib/hooks/use-login-status';\nimport styles from './stage-container.module.css';\nimport styleUtils from './utils.module.css';\nimport ScheduleSidebar from './schedule-sidebar';\nimport ConfEntry from './conf-entry';\nexport default function StageContainer({\n  stage,\n  allStages\n}) {\n  const response = useSWR('/api/stages', {\n    initialData: allStages,\n    refreshInterval: 5000\n  });\n  const updatedStages = response.data || [];\n  const updatedStage = updatedStages.find(s => s.slug === stage.slug) || stage;\n  const {\n    loginStatus,\n    mutate\n  } = useLoginStatus();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.streamContainer,\n      children: loginStatus === 'loggedIn' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(styles.stream, styleUtils.appear, styleUtils['appear-first']),\n        children: [/*#__PURE__*/_jsxDEV(\"iframe\", {\n          allow: \"autoplay; picture-in-picture\",\n          allowFullScreen: true,\n          frameBorder: \"0\",\n          src: `${updatedStage.stream}?autoplay=1&mute=1`,\n          title: updatedStage.name,\n          width: \"100%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: cn(styles.bottom, styleUtils.appear, styleUtils['appear-second']),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.messageContainer,\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: styles.stageName,\n              children: stage.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: updatedStage.discord,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: styles.button,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Join the chat on\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"32\",\n              height: \"32\",\n              viewBox: \"0 0 245 240\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"white\",\n                d: \"M104.4 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1.1-6.1-4.5-11.1-10.2-11.1zm36.5 0c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"white\",\n                d: \"M189.5 20h-134C44.2 20 35 29.2 35 40.6v135.2c0 11.4 9.2 20.6 20.5 20.6h113.4l-5.3-18.5 12.8 11.9 12.1 11.2 21.5 19V40.6c0-11.4-9.2-20.6-20.5-20.6zm-38.6 130.6s-3.6-4.3-6.6-8.1c13.1-3.7 18.1-11.9 18.1-11.9-4.1 2.7-8 4.6-11.5 5.9-5 2.1-9.8 3.5-14.5 4.3-9.6 1.8-18.4 1.3-25.9-.1-5.7-1.1-10.6-2.7-14.7-4.3-2.3-.9-4.8-2-7.3-3.4-.3-.2-.6-.3-.9-.5-.2-.1-.3-.2-.4-.3-1.8-1-2.8-1.7-2.8-1.7s4.8 8 17.5 11.8c-3 3.8-6.7 8.3-6.7 8.3-22.1-.7-30.5-15.2-30.5-15.2 0-32.2 14.4-58.3 14.4-58.3 14.4-10.8 28.1-10.5 28.1-10.5l1 1.2c-18 5.2-26.3 13.1-26.3 13.1s2.2-1.2 5.9-2.9c10.7-4.7 19.2-6 22.7-6.3.6-.1 1.1-.2 1.7-.2 6.1-.8 13-1 20.2-.2 9.5 1.1 19.7 3.9 30.1 9.6 0 0-7.9-7.5-24.9-12.7l1.4-1.6s13.7-.3 28.1 10.5c0 0 14.4 26.1 14.4 58.3 0 0-8.5 14.5-30.6 15.2z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this) : loginStatus === 'loading' ? null : /*#__PURE__*/_jsxDEV(ConfEntry, {\n        onRegister: () => mutate()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ScheduleSidebar, {\n      allStages: updatedStages\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["/Users/shai/9april2021/components/stage-container.tsx"],"names":["useSWR","cn","useLoginStatus","styles","styleUtils","ScheduleSidebar","ConfEntry","StageContainer","stage","allStages","response","initialData","refreshInterval","updatedStages","data","updatedStage","find","s","slug","loginStatus","mutate","container","streamContainer","stream","appear","name","bottom","messageContainer","stageName","discord","button"],"mappings":"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","sourcesContent":["/**\n * Copyright 2020 Vercel Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport useSWR from 'swr';\nimport cn from 'classnames';\nimport { Stage } from '@lib/types';\nimport useLoginStatus from '@lib/hooks/use-login-status';\nimport styles from './stage-container.module.css';\nimport styleUtils from './utils.module.css';\nimport ScheduleSidebar from './schedule-sidebar';\nimport ConfEntry from './conf-entry';\n\ntype Props = {\n  stage: Stage;\n  allStages: Stage[];\n};\n\nexport default function StageContainer({ stage, allStages }: Props) {\n  const response = useSWR('/api/stages', {\n    initialData: allStages,\n    refreshInterval: 5000\n  });\n\n  const updatedStages = response.data || [];\n  const updatedStage = updatedStages.find((s: Stage) => s.slug === stage.slug) || stage;\n  const { loginStatus, mutate } = useLoginStatus();\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.streamContainer}>\n        {loginStatus === 'loggedIn' ? (\n          <div className={cn(styles.stream, styleUtils.appear, styleUtils['appear-first'])}>\n            <iframe\n              allow=\"autoplay; picture-in-picture\"\n              allowFullScreen\n              frameBorder=\"0\"\n              src={`${updatedStage.stream}?autoplay=1&mute=1`}\n              title={updatedStage.name}\n              width=\"100%\"\n            />\n            <div className={cn(styles.bottom, styleUtils.appear, styleUtils['appear-second'])}>\n              <div className={styles.messageContainer}>\n                <h2 className={styles.stageName}>{stage.name}</h2>\n              </div>\n              <a\n                href={updatedStage.discord}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className={styles.button}\n              >\n                <span>Join the chat on</span>\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"32\"\n                  height=\"32\"\n                  viewBox=\"0 0 245 240\"\n                >\n                  <path\n                    fill=\"white\"\n                    d=\"M104.4 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1.1-6.1-4.5-11.1-10.2-11.1zm36.5 0c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z\"\n                  />\n                  <path\n                    fill=\"white\"\n                    d=\"M189.5 20h-134C44.2 20 35 29.2 35 40.6v135.2c0 11.4 9.2 20.6 20.5 20.6h113.4l-5.3-18.5 12.8 11.9 12.1 11.2 21.5 19V40.6c0-11.4-9.2-20.6-20.5-20.6zm-38.6 130.6s-3.6-4.3-6.6-8.1c13.1-3.7 18.1-11.9 18.1-11.9-4.1 2.7-8 4.6-11.5 5.9-5 2.1-9.8 3.5-14.5 4.3-9.6 1.8-18.4 1.3-25.9-.1-5.7-1.1-10.6-2.7-14.7-4.3-2.3-.9-4.8-2-7.3-3.4-.3-.2-.6-.3-.9-.5-.2-.1-.3-.2-.4-.3-1.8-1-2.8-1.7-2.8-1.7s4.8 8 17.5 11.8c-3 3.8-6.7 8.3-6.7 8.3-22.1-.7-30.5-15.2-30.5-15.2 0-32.2 14.4-58.3 14.4-58.3 14.4-10.8 28.1-10.5 28.1-10.5l1 1.2c-18 5.2-26.3 13.1-26.3 13.1s2.2-1.2 5.9-2.9c10.7-4.7 19.2-6 22.7-6.3.6-.1 1.1-.2 1.7-.2 6.1-.8 13-1 20.2-.2 9.5 1.1 19.7 3.9 30.1 9.6 0 0-7.9-7.5-24.9-12.7l1.4-1.6s13.7-.3 28.1 10.5c0 0 14.4 26.1 14.4 58.3 0 0-8.5 14.5-30.6 15.2z\"\n                  />\n                </svg>\n              </a>\n            </div>\n          </div>\n        ) : loginStatus === 'loading' ? null : (\n          <ConfEntry onRegister={() => mutate()} />\n        )}\n      </div>\n      <ScheduleSidebar allStages={updatedStages} />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}
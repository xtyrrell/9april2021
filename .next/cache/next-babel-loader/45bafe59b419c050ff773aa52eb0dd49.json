{"ast":null,"code":"import _defineProperty from \"/Users/shai/9april2021/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/shai/9april2021/components/ticket.tsx\",\n    _s = $RefreshSig$();\n\n/**\n * Copyright 2020 Vercel Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport cn from 'classnames';\nimport Tilt from 'vanilla-tilt';\nimport { useRef, useEffect, useState } from 'react';\nimport isMobileOrTablet from '@lib/is-mobile-or-tablet';\nimport { scrollTo } from '@lib/smooth-scroll';\nimport styles from './ticket.module.css';\nimport styleUtils from './utils.module.css';\nimport TicketForm from './ticket-form';\nimport TicketVisual from './ticket-visual';\nimport TicketActions from './ticket-actions';\nimport TicketCopy from './ticket-copy';\nimport { DATE, SITE_NAME } from '@lib/constants';\nimport Form from './form';\nexport default function Ticket(_ref) {\n  _s();\n\n  var username = _ref.username,\n      name = _ref.name,\n      ticketNumber = _ref.ticketNumber,\n      sharePage = _ref.sharePage;\n  var ticketRef = useRef(null);\n\n  var _useState = useState('default'),\n      ticketGenerationState = _useState[0],\n      setTicketGenerationState = _useState[1];\n\n  var divRef = useRef(null);\n  useEffect(function () {\n    if (ticketRef.current && !window.matchMedia('(pointer: coarse)').matches) {\n      Tilt.init(ticketRef.current, {\n        glare: true,\n        max: 5,\n        'max-glare': 0.16,\n        'full-page-listening': true\n      });\n    }\n  }, [ticketRef]);\n  useEffect(function () {\n    if (!sharePage && divRef && divRef.current && isMobileOrTablet()) {\n      scrollTo(divRef.current, -30);\n    }\n  }, [divRef, sharePage]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: cn(styles['ticket-layout'], _defineProperty({}, styles['ticket-share-layout'], sharePage)),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: divRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles['ticket-text'],\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: cn(styles.hero, styleUtils.appear, styleUtils['appear-first']),\n          children: sharePage ? name ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [name, \"\\u2019s Ticket\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: SITE_NAME\n          }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\"You're in. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 28\n            }, this), \" Make it unique.\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: cn(styles.description, styleUtils.appear, styleUtils['appear-second']),\n          children: sharePage ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\"Join \", name !== null && name !== void 0 ? name : 'them', \" on \", DATE, \".\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\"Generate a unique ticket image with \", /*#__PURE__*/_jsxDEV(\"br\", {\n              className: styleUtils['hide-on-mobile']\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 53\n            }, this), \"your GitHub profile.\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(styleUtils.appear, styleUtils['appear-third']),\n        children: !sharePage ? /*#__PURE__*/_jsxDEV(TicketForm, {\n          defaultUsername: username,\n          setTicketGenerationState: setTicketGenerationState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Form, {\n          sharePage: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles['ticket-visual-wrapper'],\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        ref: ticketRef,\n        className: cn(styles['ticket-visual'], styleUtils.appear, styleUtils['appear-fourth']),\n        children: /*#__PURE__*/_jsxDEV(TicketVisual, {\n          username: username,\n          name: name,\n          ticketNumber: ticketNumber,\n          ticketGenerationState: ticketGenerationState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), !sharePage && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: username ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles['ticket-actions'],\n            children: /*#__PURE__*/_jsxDEV(TicketActions, {\n              username: username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles['ticket-copy'],\n            children: /*#__PURE__*/_jsxDEV(TicketCopy, {\n              username: username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['ticket-actions-placeholder']\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 15\n        }, this)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Ticket, \"4d8GjSch56ZoPOB6nhzT0Zg04EQ=\");\n\n_c = Ticket;\n\nvar _c;\n\n$RefreshReg$(_c, \"Ticket\");","map":{"version":3,"sources":["/Users/shai/9april2021/components/ticket.tsx"],"names":["cn","Tilt","useRef","useEffect","useState","isMobileOrTablet","scrollTo","styles","styleUtils","TicketForm","TicketVisual","TicketActions","TicketCopy","DATE","SITE_NAME","Form","Ticket","username","name","ticketNumber","sharePage","ticketRef","ticketGenerationState","setTicketGenerationState","divRef","current","window","matchMedia","matches","init","glare","max","hero","appear","description"],"mappings":"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","sourcesContent":["/**\n * Copyright 2020 Vercel Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport cn from 'classnames';\nimport Tilt from 'vanilla-tilt';\nimport { useRef, useEffect, useState } from 'react';\nimport { UserData } from '@lib/hooks/use-conf-data';\nimport { TicketGenerationState } from '@lib/constants';\nimport isMobileOrTablet from '@lib/is-mobile-or-tablet';\nimport { scrollTo } from '@lib/smooth-scroll';\nimport styles from './ticket.module.css';\nimport styleUtils from './utils.module.css';\nimport TicketForm from './ticket-form';\nimport TicketVisual from './ticket-visual';\nimport TicketActions from './ticket-actions';\nimport TicketCopy from './ticket-copy';\nimport { DATE, SITE_NAME } from '@lib/constants';\nimport Form from './form';\n\ntype Props = {\n  username: UserData['username'];\n  ticketNumber: UserData['ticketNumber'];\n  name: UserData['name'];\n  sharePage?: boolean;\n};\n\nexport default function Ticket({ username, name, ticketNumber, sharePage }: Props) {\n  const ticketRef = useRef<HTMLDivElement>(null);\n  const [ticketGenerationState, setTicketGenerationState] = useState<TicketGenerationState>(\n    'default'\n  );\n  const divRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (ticketRef.current && !window.matchMedia('(pointer: coarse)').matches) {\n      Tilt.init(ticketRef.current, {\n        glare: true,\n        max: 5,\n        'max-glare': 0.16,\n        'full-page-listening': true\n      });\n    }\n  }, [ticketRef]);\n\n  useEffect(() => {\n    if (!sharePage && divRef && divRef.current && isMobileOrTablet()) {\n      scrollTo(divRef.current, -30);\n    }\n  }, [divRef, sharePage]);\n\n  return (\n    <div\n      className={cn(styles['ticket-layout'], {\n        [styles['ticket-share-layout']]: sharePage\n      })}\n    >\n      <div ref={divRef}>\n        <div className={styles['ticket-text']}>\n          <h2 className={cn(styles.hero, styleUtils.appear, styleUtils['appear-first'])}>\n            {sharePage ? (\n              name ? (\n                <>{name}’s Ticket</>\n              ) : (\n                <>{SITE_NAME}</>\n              )\n            ) : (\n              <>\n                You're in. <br /> Make it unique.\n              </>\n            )}\n          </h2>\n          <p className={cn(styles.description, styleUtils.appear, styleUtils['appear-second'])}>\n            {sharePage ? (\n              <>\n                Join {name ?? 'them'} on {DATE}.\n              </>\n            ) : (\n              <>\n                Generate a unique ticket image with <br className={styleUtils['hide-on-mobile']} />\n                your GitHub profile.\n              </>\n            )}\n          </p>\n        </div>\n        <div className={cn(styleUtils.appear, styleUtils['appear-third'])}>\n          {!sharePage ? (\n            <TicketForm\n              defaultUsername={username}\n              setTicketGenerationState={setTicketGenerationState}\n            />\n          ) : (\n            <Form sharePage />\n          )}\n        </div>\n      </div>\n      <div className={styles['ticket-visual-wrapper']}>\n        <div\n          ref={ticketRef}\n          className={cn(styles['ticket-visual'], styleUtils.appear, styleUtils['appear-fourth'])}\n        >\n          <TicketVisual\n            username={username}\n            name={name}\n            ticketNumber={ticketNumber}\n            ticketGenerationState={ticketGenerationState}\n          />\n        </div>\n        {!sharePage && (\n          <>\n            {username ? (\n              <div>\n                <div className={styles['ticket-actions']}>\n                  <TicketActions username={username} />\n                </div>\n                <div className={styles['ticket-copy']}>\n                  <TicketCopy username={username} />\n                </div>\n              </div>\n            ) : (\n              <div className={styles['ticket-actions-placeholder']} />\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}